
<html>
<head>
    <title>Cloudprober Configuration</title>
    <style>
        body {
            font-family: monospace;
        }
        .comment {
            color: #888;
            font-family: monospace;
            white-space: pre;
        }
    </style>
</head>
<body>

<h2 id="cloudprober.surfacer.LabelFilter">cloudprober.surfacer.LabelFilter</h2>
    &nbsp;&nbsp;key: &lt;string><br><br>
    &nbsp;&nbsp;value: &lt;string><br><br>
    

<h2 id="cloudprober.surfacer.SurfacerDef">cloudprober.surfacer.SurfacerDef</h2>
    
            <div class="comment">  # This name is used for logging. If not defined, it&#39;s derived from the type.
  # Note that this field is required for the USER_DEFINED surfacer type and
  # should match with the name that you used while registering the user defined
  # surfacer.
  #</div>&nbsp;&nbsp;name: &lt;string><br><br>
    &nbsp;&nbsp;type: (NONE|PROMETHEUS|STACKDRIVER|FILE|POSTGRES|PUBSUB|CLOUDWATCH|DATADOG|PROBESTATUS|BIGQUERY|USER_DEFINED): &lt;enum><br><br>
    
            <div class="comment">  # How many metrics entries (EventMetrics) to buffer. This is the buffer
  # between incoming metrics and the metrics that are being processed. Default
  # value should work in most cases. You may need to increase it on a busy
  # system, but that&#39;s usually a sign that you metrics processing pipeline is
  # slow for some reason, e.g. slow writes to a remote file.
  # Note: Only file and pubsub surfacer supports this option right now.
  #</div>&nbsp;&nbsp;metricsBufferSize: &lt;int64> | default: 10000<br><br>
    
            <div class="comment">  # If specified, only allow metrics that match any of these label filters.
  # Example:
  # allow_metrics_with_label {
  #   key: &#34;probe&#34;,
  #   value: &#34;check_homepage&#34;,
  # }
  #</div>&nbsp;&nbsp;allowMetricsWithLabel: &lt;<a href="surfacer.html#cloudprober.surfacer.LabelFilter">cloudprober.surfacer.LabelFilter</a>><br><br>
    
            <div class="comment">  # Ignore metrics that match any of these label filters. Ignore has precedence
  # over allow filters.
  # Example:
  # ignore_metrics_with_label {
  #   key: &#34;probe&#34;,
  #   value: &#34;sysvars&#34;,
  # }
  #</div>&nbsp;&nbsp;ignoreMetricsWithLabel: &lt;<a href="surfacer.html#cloudprober.surfacer.LabelFilter">cloudprober.surfacer.LabelFilter</a>><br><br>
    
            <div class="comment">  # Allow and ignore metrics based on their names. You can specify regexes
  # here. Ignore has precendence over allow.
  # Examples:
  #  ignore_metrics_with_name: &#34;validation_failure&#34;
  #  allow_metrics_with_name: &#34;(total|success|latency)&#34;
  #
  # For efficiency reasons, filtering by metric name has to be implemented by
  # individual surfacers (while going through metrics within an EventMetrics).
  # Currently following surfacers implement it:
  #     CLOUDWATCH, PROMETHEUS, STACKDRIVER
  #</div>&nbsp;&nbsp;allowMetricsWithName: &lt;string><br><br>
    &nbsp;&nbsp;ignoreMetricsWithName: &lt;string><br><br>
    
            <div class="comment">  # Whether to add failure metric or not. For stackdriver surfacer, we add
  # failure metric by default.
  #</div>&nbsp;&nbsp;addFailureMetric: &lt;bool><br><br>
    
            <div class="comment">  # If set to true, cloudprober will export all metrics as gauge metrics. Note
  # that cloudprober inherently generates only cumulative metrics. To create
  # gauge metrics from cumulative metrics, we keep a copy of the old metrics
  # and subtract new metrics from the previous metrics. This transformation in
  # metrics has an increased memory-overhead because extra copies required.
  # However, it should not be noticeable unless you&#39;re producing large number
  # of metrics (say &gt; 10000 metrics per second).
  #</div>&nbsp;&nbsp;exportAsGauge: &lt;bool><br><br>
    &nbsp;&nbsp;[prometheusSurfacer &lt;<a href="surfacer.html#cloudprober.surfacer.prometheus.SurfacerConf">cloudprober.surfacer.prometheus.SurfacerConf</a>&gt; | stackdriverSurfacer &lt;<a href="surfacer.html#cloudprober.surfacer.stackdriver.SurfacerConf">cloudprober.surfacer.stackdriver.SurfacerConf</a>&gt; | <br>
&nbsp;&nbsp;&nbsp;fileSurfacer &lt;<a href="surfacer.html#cloudprober.surfacer.file.SurfacerConf">cloudprober.surfacer.file.SurfacerConf</a>&gt; | postgresSurfacer &lt;<a href="surfacer.html#cloudprober.surfacer.postgres.SurfacerConf">cloudprober.surfacer.postgres.SurfacerConf</a>&gt; | <br>
&nbsp;&nbsp;&nbsp;pubsubSurfacer &lt;<a href="surfacer.html#cloudprober.surfacer.pubsub.SurfacerConf">cloudprober.surfacer.pubsub.SurfacerConf</a>&gt; | cloudwatchSurfacer &lt;<a href="surfacer.html#cloudprober.surfacer.cloudwatch.SurfacerConf">cloudprober.surfacer.cloudwatch.SurfacerConf</a>&gt; | <br>
&nbsp;&nbsp;&nbsp;datadogSurfacer &lt;<a href="surfacer.html#cloudprober.surfacer.datadog.SurfacerConf">cloudprober.surfacer.datadog.SurfacerConf</a>&gt; | probestatusSurfacer &lt;<a href="surfacer.html#cloudprober.surfacer.probestatus.SurfacerConf">cloudprober.surfacer.probestatus.SurfacerConf</a>&gt; | <br>
&nbsp;&nbsp;&nbsp;bigquerySurfacer &lt;<a href="surfacer.html#cloudprober.surfacer.bigquery.SurfacerConf">cloudprober.surfacer.bigquery.SurfacerConf</a>&gt;]: &lt;oneof><br><br>
    

<h2 id="cloudprober.surfacer.bigquery.BQColumn">cloudprober.surfacer.bigquery.BQColumn</h2>
    &nbsp;&nbsp;label: &lt;string><br><br>
    &nbsp;&nbsp;columnName: &lt;string><br><br>
    &nbsp;&nbsp;columnType: &lt;string><br><br>
    

<h2 id="cloudprober.surfacer.bigquery.SurfacerConf">cloudprober.surfacer.bigquery.SurfacerConf</h2>
    &nbsp;&nbsp;projectName: &lt;string><br><br>
    &nbsp;&nbsp;bigqueryDataset: &lt;string><br><br>
    &nbsp;&nbsp;bigqueryTable: &lt;string><br><br>
    
            <div class="comment">  # It represents the bigquery table columns.
  #  bigquery_columns {
  #    label: &#34;id&#34;,
  #    column_name: &#34;id&#34;,
  #    column_type: &#34;string&#34;,
  #  }
  #</div>&nbsp;&nbsp;bigqueryColumns: &lt;<a href="surfacer.html#cloudprober.surfacer.bigquery.BQColumn">cloudprober.surfacer.bigquery.BQColumn</a>><br><br>
    
            <div class="comment">  # It represents bigquery client timeout in seconds. So, if bigquery insertion
  # is not completed within this time period then the request will fail and the
  # failed rows will be retried later.
  #</div>&nbsp;&nbsp;bigqueryTimeoutSec: &lt;int64> | default: 30<br><br>
    &nbsp;&nbsp;metricsBufferSize: &lt;int64> | default: 100000<br><br>
    
            <div class="comment">  # This denotes the time interval after which data will be inserted in
  # bigquery. Default is 10 seconds. So after every 10 seconds all the em in
  # current will be inserted in bigquery in a default batch size of 1000
  #</div>&nbsp;&nbsp;batchTimerSec: &lt;int64> | default: 10<br><br>
    &nbsp;&nbsp;metricsBatchSize: &lt;int64> | default: 1000<br><br>
    
            <div class="comment">  # Column name for metrics name, value and timestamp
  #</div>&nbsp;&nbsp;metricTimeColName: &lt;string> | default: metric_time<br><br>
    &nbsp;&nbsp;metricNameColName: &lt;string> | default: metric_name<br><br>
    &nbsp;&nbsp;metricValueColName: &lt;string> | default: metric_value<br><br>
    

<h2 id="cloudprober.surfacer.cloudwatch.SurfacerConf">cloudprober.surfacer.cloudwatch.SurfacerConf</h2>
    
            <div class="comment">  # The cloudwatch metric namespace
  #</div>&nbsp;&nbsp;namespace: &lt;string> | default: cloudprober<br><br>
    
            <div class="comment">  # The cloudwatch resolution value, lowering this below 60 will incur
  # additional charges as the metrics will be charged at a high resolution
  # rate.
  #</div>&nbsp;&nbsp;resolution: &lt;int32> | default: 60<br><br>
    
            <div class="comment">  # The AWS Region, used to create a CloudWatch session.
  # The order of fallback for evaluating the AWS Region:
  # 1. This config value.
  # 2. EC2 metadata endpoint, via cloudprober sysvars.
  # 3. AWS_REGION environment value.
  # 4. AWS_DEFAULT_REGION environment value, if AWS_SDK_LOAD_CONFIG is set.
  # https://aws.github.io/aws-sdk-go-v2/docs/configuring-sdk/
  #</div>&nbsp;&nbsp;region: &lt;string><br><br>
    
            <div class="comment">  # The maximum number of metrics that will be published at one
  # time. Metrics will be stored locally in a cache until this 
  # limit is reached. 1000 is the maximum number of metrics
  # supported by the Cloudwatch PutMetricData API.
  # Metrics will be published when the timer expires, or the buffer is
  # full, whichever happens first.
  #</div>&nbsp;&nbsp;metricsBatchSize: &lt;int32> | default: 1000<br><br>
    
            <div class="comment">  # The maximum amount of time to hold metrics in the buffer (above).
  # Metrics will be published when the timer expires, or the buffer is
  # full, whichever happens first. 
  #</div>&nbsp;&nbsp;batchTimerSec: &lt;int32> | default: 30<br><br>
    

<h2 id="cloudprober.surfacer.datadog.SurfacerConf">cloudprober.surfacer.datadog.SurfacerConf</h2>
    
            <div class="comment">  # Prefix to add to all metrics.
  #</div>&nbsp;&nbsp;prefix: &lt;string> | default: cloudprober<br><br>
    
            <div class="comment">  # Datadog API key. If not set, DD_API_KEY env variable is used.
  #</div>&nbsp;&nbsp;apiKey: &lt;string><br><br>
    
            <div class="comment">  # Datadog APP key. If not set, DD_APP_KEY env variable is used.
  #</div>&nbsp;&nbsp;appKey: &lt;string><br><br>
    
            <div class="comment">  # Datadog server, default: &#34;api.datadoghq.com&#34;
  #</div>&nbsp;&nbsp;server: &lt;string><br><br>
    
            <div class="comment">  # The maximum number of metrics that will be published at one
  # time. Metrics will be stored locally in a cache until this 
  # limit is reached. Datadog&#39;s SubmitMetric API has a maximum payload 
  # size of 500 kilobytes (512000 bytes). Compressed payloads must have a 
  # decompressed size of less than 5 megabytes (5242880 bytes).
  # Metrics will be published when the timer expires, or the buffer is
  # full, whichever happens first.
  #</div>&nbsp;&nbsp;metricsBatchSize: &lt;int32> | default: 1000<br><br>
    
            <div class="comment">  # The maximum amount of time to hold metrics in the buffer (above).
  # Metrics will be published when the timer expires, or the buffer is
  # full, whichever happens first. 
  #</div>&nbsp;&nbsp;batchTimerSec: &lt;int32> | default: 30<br><br>
    
            <div class="comment">  # Disable gzip compression of metric payload, when sending metrics to Datadog.
  # Compression is enabled by default.
  #</div>&nbsp;&nbsp;disableCompression: &lt;bool><br><br>
    

<h2 id="cloudprober.surfacer.file.SurfacerConf">cloudprober.surfacer.file.SurfacerConf</h2>
    
            <div class="comment">  # Where to write the results. If left unset, file surfacer writes to the
  # standard output.
  #</div>&nbsp;&nbsp;filePath: &lt;string><br><br>
    &nbsp;&nbsp;prefix: &lt;string> | default: cloudprober<br><br>
    
            <div class="comment">  # Compress data before writing to the file.
  #</div>&nbsp;&nbsp;compressionEnabled: &lt;bool> | default: false<br><br>
    

<h2 id="cloudprober.surfacer.postgres.LabelToColumn">cloudprober.surfacer.postgres.LabelToColumn</h2>
    &nbsp;&nbsp;label: &lt;string><br><br>
    &nbsp;&nbsp;column: &lt;string><br><br>
    

<h2 id="cloudprober.surfacer.postgres.SurfacerConf">cloudprober.surfacer.postgres.SurfacerConf</h2>
    &nbsp;&nbsp;connectionString: &lt;string><br><br>
    &nbsp;&nbsp;metricsTableName: &lt;string><br><br>
    &nbsp;&nbsp;labelToColumn: &lt;<a href="surfacer.html#cloudprober.surfacer.postgres.LabelToColumn">cloudprober.surfacer.postgres.LabelToColumn</a>><br><br>
    &nbsp;&nbsp;metricsBufferSize: &lt;int64> | default: 10000<br><br>
    

<h2 id="cloudprober.surfacer.probestatus.SurfacerConf">cloudprober.surfacer.probestatus.SurfacerConf</h2>
    
            <div class="comment">  # default 60s
  #</div>&nbsp;&nbsp;resolutionSec: &lt;int32> | default: 60<br><br>
    
            <div class="comment">  # Number of points in each timeseries. This field dictates how far back
  # can you go up to (resolution_sec * timeseries_size). Note that higher
  # this number, more memory you&#39;ll use.
  #</div>&nbsp;&nbsp;timeseriesSize: &lt;int32> | default: 4320<br><br>
    
            <div class="comment">  # Max targets per probe.
  #</div>&nbsp;&nbsp;maxTargetsPerProbe: &lt;int32> | default: 20<br><br>
    
            <div class="comment">  # ProbeStatus URL
  # Note that older default URL /probestatus forwards to this URL to avoid
  # breaking older default setups.
  #</div>&nbsp;&nbsp;url: &lt;string> | default: /status<br><br>
    
            <div class="comment">  # Page cache time
  #</div>&nbsp;&nbsp;cacheTimeSec: &lt;int32> | default: 2<br><br>
    
            <div class="comment">  # Probestatus surfacer is enabled by default. To disable it, set this
  # option.
  #</div>&nbsp;&nbsp;disable: &lt;bool><br><br>
    

<h2 id="cloudprober.surfacer.prometheus.SurfacerConf">cloudprober.surfacer.prometheus.SurfacerConf</h2>
    
            <div class="comment">  # How many metrics entries (EventMetrics) to buffer. Incoming metrics
  # processing is paused while serving data to prometheus. This buffer is to
  # make writes to prometheus surfacer non-blocking.
  # NOTE: This field is confusing for users and will be removed from the config
  # after v0.10.3.
  #</div>&nbsp;&nbsp;metricsBufferSize: &lt;int64> | default: 10000<br><br>
    
            <div class="comment">  # Whether to include timestamps in metrics. If enabled (default) each metric
  # string includes the metric timestamp as recorded in the EventMetric.
  # Prometheus associates the scraped values with this timestamp. If disabled,
  # i.e. timestamps are not exported, prometheus associates scraped values with
  # scrape timestamp.
  #</div>&nbsp;&nbsp;includeTimestamp: &lt;bool> | default: true<br><br>
    
            <div class="comment">  # URL that prometheus scrapes metrics from.
  #</div>&nbsp;&nbsp;metricsUrl: &lt;string> | default: /metrics<br><br>
    
            <div class="comment">  # Prefix to add to all metric names. For example setting this field to
  # &#34;cloudprober_&#34; will result in metrics with names:
  # cloudprober_total, cloudprober_success, cloudprober_latency, ..
  #</div>&nbsp;&nbsp;metricsPrefix: &lt;string><br><br>
    

<h2 id="cloudprober.surfacer.pubsub.SurfacerConf">cloudprober.surfacer.pubsub.SurfacerConf</h2>
    
            <div class="comment">  # GCP project name for pubsub. If not specified and running on GCP,
  # project is used.
  #</div>&nbsp;&nbsp;project: &lt;string><br><br>
    
            <div class="comment">  # Pubsub topic name.
  # Default is cloudprober-{hostname}
  #</div>&nbsp;&nbsp;topicName: &lt;string><br><br>
    
            <div class="comment">  # Compress data before writing to pubsub.
  #</div>&nbsp;&nbsp;compressionEnabled: &lt;bool> | default: false<br><br>
    

<h2 id="cloudprober.surfacer.stackdriver.SurfacerConf">cloudprober.surfacer.stackdriver.SurfacerConf</h2>
    
            <div class="comment">  # GCP project name for stackdriver. If not specified and running on GCP,
  # project is used.
  #</div>&nbsp;&nbsp;project: &lt;string><br><br>
    
            <div class="comment">  # How often to export metrics to stackdriver.
  #</div>&nbsp;&nbsp;batchTimerSec: &lt;uint64> | default: 10<br><br>
    
            <div class="comment">  # If allowed_metrics_regex is specified, only metrics matching the given
  # regular expression will be exported to stackdriver. Since probe type and
  # probe name are part of the metric name, you can use this field to restrict
  # stackdriver metrics to a particular probe.
  # Example:
  # allowed_metrics_regex: &#34;.*(http|ping).*(success|validation_failure).*&#34;
  #</div>&nbsp;&nbsp;allowedMetricsRegex: &lt;string><br><br>
    
            <div class="comment">  # Monitoring URL base. Full metric URL looks like the following:
  # &lt;monitoring_url&gt;/&lt;ptype&gt;/&lt;probe&gt;/&lt;metric&gt;
  # Example:
  # custom.googleapis.com/cloudprober/http/google-homepage/latency
  #</div>&nbsp;&nbsp;monitoringUrl: &lt;string> | default: custom.googleapis.com/cloudprober/<br><br>
    
            <div class="comment">  # How many metrics entries to buffer. Incoming metrics
  # processing is paused while serving data to Stackdriver. This buffer is to
  # make writes to Stackdriver surfacer non-blocking.
  #</div>&nbsp;&nbsp;metricsBufferSize: &lt;int64> | default: 10000<br><br>
    &nbsp;&nbsp;metricsPrefix: (NONE|PROBE|PTYPE_PROBE): &lt;enum><br><br>
    

</body>
</html>